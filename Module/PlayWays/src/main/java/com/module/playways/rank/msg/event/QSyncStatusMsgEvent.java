// Code generated by Wire protocol buffer compiler, do not edit.
// Source file: Room.proto
package com.module.playways.rank.msg.event;

import com.module.playways.rank.msg.BasePushInfo;
import com.module.playways.rank.prepare.model.OnlineInfoModel;
import com.module.playways.rank.prepare.model.RoundInfoModel;
import com.zq.live.proto.Room.OnlineInfo;
import com.zq.live.proto.Room.QSyncStatusMsg;

import java.util.ArrayList;
import java.util.List;

public final class QSyncStatusMsgEvent {
  public BasePushInfo info;

  /**
   * 状态同步时的毫秒时间戳
   */
  public Long syncStatusTimeMs;

  /**
   * 游戏结束时间
   */
  public Long gameOverTimeMs;

  /**
   * 在线状态
   */
  public List<OnlineInfoModel> onlineInfo;

  /**
   * 当前轮次信息
   */
  public RoundInfoModel currentRound;

  public QSyncStatusMsgEvent(BasePushInfo info, QSyncStatusMsg qSyncStatusMsg) {
    this.info = info;
    this.syncStatusTimeMs = qSyncStatusMsg.getSyncStatusTimeMs();
    this.gameOverTimeMs = qSyncStatusMsg.getGameOverTimeMs();
    List<OnlineInfoModel> onLineInfos = new ArrayList<>();
    for (OnlineInfo onlineInfo : qSyncStatusMsg.getOnlineInfoList()) {
      OnlineInfoModel jsonOnLineInfo = new OnlineInfoModel();
      jsonOnLineInfo.parse(onlineInfo);
      onLineInfos.add(jsonOnLineInfo);
    }
    this.onlineInfo = onLineInfos;
    this.currentRound = RoundInfoModel.parseFromRoundInfo(qSyncStatusMsg.getCurrentRound());
  }

  public BasePushInfo getInfo() {
    return info;
  }

  public Long getSyncStatusTimeMs() {
    return syncStatusTimeMs;
  }

  public Long getGameOverTimeMs() {
    return gameOverTimeMs;
  }

  public List<OnlineInfoModel> getOnlineInfo() {
    return onlineInfo;
  }

  public RoundInfoModel getCurrentRound() {
    return currentRound;
  }
}
